-- Gui to Lua
-- Version: 3.2

-- Instances:

local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local AM = Instance.new("Frame")
local TextBox = Instance.new("TextBox")
local Execute = Instance.new("TextButton")
local Clear = Instance.new("TextButton")
local Paste = Instance.new("TextButton")
local Copy = Instance.new("TextButton")
local UICorner = Instance.new("UICorner")

-- Properties:

ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(71, 71, 71)
Frame.Size = UDim2.new(0.992, 0, 0.108, 0)
Frame.Position = UDim2.new(0.004, 0, 0.892, 0)

AM.Name = "AM"
AM.Parent = ScreenGui
AM.BackgroundColor3 = Color3.fromRGB(71, 71, 71)
AM.Position = UDim2.new(0.15, 0, 0.15, 0)
AM.Size = UDim2.new(0.7, 0, 0.6, 0)

UICorner.Parent = AM

TextBox.Parent = AM
TextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
TextBox.Size = UDim2.new(1, -10, 0.8, -10)
TextBox.Position = UDim2.new(0, 5, 0, 5)
TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
TextBox.Font = Enum.Font.SourceSans
TextBox.TextSize = 18
TextBox.TextXAlignment = Enum.TextXAlignment.Left
TextBox.TextYAlignment = Enum.TextYAlignment.Top
TextBox.Text = ""
TextBox.ClearTextOnFocus = false
TextBox.MultiLine = true
TextBox.TextWrapped = false

-- Enable scrolling for TextBox
local scrollingFrame = Instance.new("ScrollingFrame", TextBox)
scrollingFrame.CanvasSize = UDim2.new(2, 0, 2, 0)

-- Buttons
local function createButton(name, text, position)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Parent = AM
    button.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    button.Size = UDim2.new(0.24, -5, 0.15, -5)
    button.Position = position
    button.Text = text
    button.Font = Enum.Font.SourceSans
    button.TextSize = 18
    button.TextColor3 = Color3.fromRGB(0, 0, 0)
    local corner = Instance.new("UICorner")
    corner.Parent = button
    return button
end

Execute = createButton("Execute", "Execute", UDim2.new(0, 5, 0.85, 5))
Clear = createButton("Clear", "Clear", UDim2.new(0.26, 5, 0.85, 5))
Paste = createButton("Paste", "Paste", UDim2.new(0.52, 5, 0.85, 5))
Copy = createButton("Copy", "Copy", UDim2.new(0.78, 5, 0.85, 5))

-- Functionality

Execute.MouseButton1Click:Connect(function()
    local scriptToExecute = TextBox.Text
    if scriptToExecute and scriptToExecute ~= "" then
        loadstring(scriptToExecute)()
    end
end)

Clear.MouseButton1Click:Connect(function()
    TextBox.Text = ""
end)

Paste.MouseButton1Click:Connect(function()
    local success, clipboard = pcall(function()
        return game:GetService("StarterGui"):SetCore("Clipboard", {})
    end)
    if success then
        TextBox.Text = TextBox.Text .. clipboard
    end
end)

Copy.MouseButton1Click:Connect(function()
    local success = pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Copied to Clipboard";
            Text = "Text successfully copied.";
            Duration = 2;
        })
        -- Assuming Clipboard API is available
        setclipboard(TextBox.Text)
    end)
    if not success then
        warn("Copy to clipboard failed!")
    end
end)

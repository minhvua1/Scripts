--[[

        GitHub-Style Script Editor
        By ChatGPT
        Version 1.0.0

]]

-- Instances

local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local Upper = Instance.new("Frame")
local TextLabel = Instance.new("TextLabel")
local Down = Instance.new("Frame")
local ScrollingFrame = Instance.new("ScrollingFrame")
local LineNumbers = Instance.new("TextLabel")
local TextBox = Instance.new("TextBox")
local ExecuteButton = Instance.new("TextButton")
local ClearButton = Instance.new("TextButton")
local CopyButton = Instance.new("TextButton")

-- Properties

ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.new(0.152941, 0.152941, 0.152941)
MainFrame.BorderColor3 = Color3.new(0, 0, 0)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.1, 0, 0.2, 0)
MainFrame.Size = UDim2.new(0, 712, 0, 400)

Upper.Name = "Upper"
Upper.Parent = MainFrame
Upper.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
Upper.BorderColor3 = Color3.new(0, 0, 0)
Upper.BorderSizePixel = 0
Upper.Size = UDim2.new(0, 712, 0, 22)

TextLabel.Parent = Upper
TextLabel.BackgroundColor3 = Color3.new(1, 1, 1)
TextLabel.BorderColor3 = Color3.new(0, 0, 0)
TextLabel.BorderSizePixel = 0
TextLabel.Size = UDim2.new(0, 62, 0, 22)
TextLabel.Font = Enum.Font.SourceSans
TextLabel.Text = "Editor"
TextLabel.TextColor3 = Color3.new(0, 0, 0)
TextLabel.TextScaled = true
TextLabel.TextSize = 20
TextLabel.TextWrapped = true
TextLabel.TextXAlignment = Enum.TextXAlignment.Left
TextLabel.TextYAlignment = Enum.TextYAlignment.Top

Down.Name = "Down"
Down.Parent = MainFrame
Down.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
Down.BorderColor3 = Color3.new(0, 0, 0)
Down.BorderSizePixel = 0
Down.Position = UDim2.new(0, 0, 0.9, 0)
Down.Size = UDim2.new(0, 712, 0, 35)

ScrollingFrame.Parent = MainFrame
ScrollingFrame.BackgroundColor3 = Color3.new(0.654902, 0.654902, 0.654902)
ScrollingFrame.BorderColor3 = Color3.new(0, 0, 0)
ScrollingFrame.Position = UDim2.new(0, 0, 0.055, 0)
ScrollingFrame.Size = UDim2.new(0, 712, 0, 350)
ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
ScrollingFrame.ScrollBarThickness = 10
ScrollingFrame.ScrollBarImageColor3 = Color3.new(0.4, 0.4, 0.4)

LineNumbers.Name = "LineNumbers"
LineNumbers.Parent = ScrollingFrame
LineNumbers.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
LineNumbers.BorderSizePixel = 0
LineNumbers.Size = UDim2.new(0, 30, 1, 0)
LineNumbers.Font = Enum.Font.SourceSans
LineNumbers.Text = "1\n2\n3\n4\n5"
LineNumbers.TextColor3 = Color3.new(0, 0, 0)
LineNumbers.TextSize = 14
LineNumbers.TextXAlignment = Enum.TextXAlignment.Right
LineNumbers.TextYAlignment = Enum.TextYAlignment.Top

TextBox.Parent = ScrollingFrame
TextBox.BackgroundColor3 = Color3.new(1, 1, 1)
TextBox.BorderSizePixel = 0
TextBox.Position = UDim2.new(0, 35, 0, 0)
TextBox.Size = UDim2.new(1, -35, 1, 0)
TextBox.Font = Enum.Font.SourceSans
TextBox.Text = "-- print(\"hello world\")"
TextBox.TextColor3 = Color3.new(0, 0, 0)
TextBox.TextSize = 14
TextBox.TextWrapped = false
TextBox.TextXAlignment = Enum.TextXAlignment.Left
TextBox.TextYAlignment = Enum.TextYAlignment.Top
TextBox.ClearTextOnFocus = false
TextBox.MultiLine = true

ExecuteButton.Parent = Down
ExecuteButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
ExecuteButton.Position = UDim2.new(0.05, 0, 0.1, 0)
ExecuteButton.Size = UDim2.new(0, 100, 0, 30)
ExecuteButton.Font = Enum.Font.SourceSans
ExecuteButton.Text = "Execute"
ExecuteButton.TextColor3 = Color3.new(1, 1, 1)
ExecuteButton.TextSize = 14

ClearButton.Parent = Down
ClearButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
ClearButton.Position = UDim2.new(0.3, 0, 0.1, 0)
ClearButton.Size = UDim2.new(0, 100, 0, 30)
ClearButton.Font = Enum.Font.SourceSans
ClearButton.Text = "Clear"
ClearButton.TextColor3 = Color3.new(1, 1, 1)
ClearButton.TextSize = 14

CopyButton.Parent = Down
CopyButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
CopyButton.Position = UDim2.new(0.55, 0, 0.1, 0)
CopyButton.Size = UDim2.new(0, 100, 0, 30)
CopyButton.Font = Enum.Font.SourceSans
CopyButton.Text = "Copy"
CopyButton.TextColor3 = Color3.new(1, 1, 1)
CopyButton.TextSize = 14

-- Functions

local function updateLineNumbers()
    local lines = string.split(TextBox.Text, "\n")
    local lineText = ""
    for i = 1, #lines do
        lineText = lineText .. tostring(i) .. "\n"
    end
    LineNumbers.Text = lineText
    ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, #lines * 20) -- Adjust canvas size for scrolling
end

TextBox:GetPropertyChangedSignal("Text"):Connect(function()
    updateLineNumbers()
end)

ScrollingFrame:GetPropertyChangedSignal("CanvasPosition"):Connect(function()
    LineNumbers.Position = UDim2.new(0, 0, 0, -ScrollingFrame.CanvasPosition.Y)
end)

ClearButton.MouseButton1Click:Connect(function()
    TextBox.Text = ""
    updateLineNumbers()
end)

CopyButton.MouseButton1Click:Connect(function()
    setclipboard(TextBox.Text)
end)

ExecuteButton.MouseButton1Click:Connect(function()
    local scriptToExecute = TextBox.Text
    loadstring(scriptToExecute)()
end)

-- Initial Line Numbers
updateLineNumbers()

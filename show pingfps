local RunService = game:GetService("RunService")
local Stats = game:GetService("Stats")

-- Tạo GUI để hiển thị Ping và FPS
local ScreenGui = Instance.new("ScreenGui")
local TextLabel = Instance.new("TextLabel")
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Cấu hình TextLabel
TextLabel.Parent = ScreenGui
TextLabel.Size = UDim2.new(0, 200, 0, 50) -- Kích thước đủ hiển thị
TextLabel.Position = UDim2.new(1, -210, 0, 10) -- Góc phải màn hình
TextLabel.BackgroundTransparency = 1
TextLabel.TextColor3 = Color3.new(0, 1, 0) -- Màu xanh lá
TextLabel.Font = Enum.Font.SourceSans
TextLabel.TextSize = 24
TextLabel.Text = ""
TextLabel.Visible = true -- Mặc định tắt hiển thị

-- Biến _G để bật/tắt
_G.ShowPingFPS = true

-- Hàm cập nhật Ping và FPS
local lastUpdate = 0
RunService.RenderStepped:Connect(function(deltaTime)
    if _G.ShowPingFPS then
        if tick() - lastUpdate >= 0.5 then
            -- Lấy Ping và loại bỏ ký tự không cần thiết
            local rawPing = Stats.Network.ServerStatsItem["Data Ping"]:GetValueString()
            local ping = tonumber(string.match(rawPing, "%d+")) or 0 -- Lấy số Ping

            -- Lấy FPS
            local fps = math.floor(1 / deltaTime)

            -- Hiển thị thông tin
            TextLabel.Text = string.format("Ping: %dms\nFPS: %d", ping, fps)
            lastUpdate = tick()
        end
        TextLabel.Visible = true -- Hiển thị TextLabel khi bật
    else
        TextLabel.Visible = false -- Ẩn TextLabel khi tắt
    end
end)
